(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{139:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return u}));var r=n(1),i=n(6),s=(n(0),n(148)),a={id:"stateful-set-postgresql-5",title:"Application Access to a StatefulSet"},o={id:"kubernetes/80-stateful-sets/stateful-set-postgresql-5",title:"Application Access to a StatefulSet",description:"## Application Access",source:"@site/docs/kubernetes/80-stateful-sets/40-application-access-exercise.md",permalink:"/kubernetes/80-stateful-sets/stateful-set-postgresql-5",sidebar:"docs",previous:{title:"PSQL Access to PostgreSQL",permalink:"/kubernetes/80-stateful-sets/stateful-set-postgresql-4"},next:{title:"Conclusions",permalink:"/kubernetes/80-stateful-sets/stateful-set-conclusions"}},c=[{value:"Application Access",id:"application-access",children:[]}],l={rightToc:c};function u(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(s.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("h2",{id:"application-access"},"Application Access"),Object(s.b)("p",null,"After setting up the database and connecting to it using the ",Object(s.b)("inlineCode",{parentName:"p"},"psql")," utility, the obvious next step is to access the database with an application running on Kubernetes."),Object(s.b)("p",null,"At this point we should rember that Kubernetes is not a fully featured platform but rather platform for building platforms ","[4]",". So in contrast to technologies such as Cloud Foundry ","[5]"," there is no such thing as a Service Binding as defined in the Open Service Broker API ","[6]"," where application developers can bind apps to service instances such as PostgreSQL with a single command. This will then create a dedicated database user which will be deleted if the application is unbound from the service. Obviously, this requires a service broker such as the a9s Data Services ","[7]"," to be implemented and integrated with Cloud Foundry, to be fair. To be even more fair, it is possible to integrate Service Brokers to Kubernetes using the Service Catalog extension ","[8]",". However, this training is about bare Kubernetes. "),Object(s.b)("p",null,"With the absense of Service Bindings we fall back to using Kubernetes Secrets as covered in earlier chapters. But who you have to create and manage these Secrets by yourself."),Object(s.b)("p",null,"{POD using the existing secret}"),Object(s.b)("blockquote",null,Object(s.b)("p",{parentName:"blockquote"},"But why not use the existing ",Object(s.b)("inlineCode",{parentName:"p"},"postgres")," user?")),Object(s.b)("p",null,"In trivial examples where security is not a concern, this is possible. However, in real-world scenarios it makes sense to stick to the ",Object(s.b)("em",{parentName:"p"},"least privilege principle")," ","[9]",". According to this principle, the application user should be limited to the minimum set of privileges necesseary to carry out the application's tasks. Consequently, for each application you have to create a user with appropriate permissions."))}u.isMDXComponent=!0},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),i=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=i.a.createContext({}),u=function(e){var t=i.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o({},t,{},e)),n},p=function(e){var t=u(e.components);return i.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},f=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,a=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(n),f=r,d=p["".concat(a,".").concat(f)]||p[f]||b[f]||s;return n?i.a.createElement(d,o({ref:t},l,{components:n})):i.a.createElement(d,o({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,a=new Array(s);a[0]=f;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,a[1]=o;for(var l=2;l<s;l++)a[l]=n[l];return i.a.createElement.apply(null,a)}return i.a.createElement.apply(null,n)}f.displayName="MDXCreateElement"}}]);