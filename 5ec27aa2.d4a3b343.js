(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{117:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return b}));var r=n(1),o=(n(0),n(138));const i={id:"creating-images",title:"Creating Container Images"},a={id:"docker/creating-images",title:"Creating Container Images",description:"So far we have been using existing container images. This is nice to learn how to use them but in order to run your own workloads in containers, it is necessary to learn how to build container images yourself.",source:"@site/docs/docker/30-creating-a-container-image.md",permalink:"/docker/creating-images",sidebar:"docs",previous:{title:"Docker Basics",permalink:"/docker/docker-basics"},next:{title:"Containerizing a Simple Web App",permalink:"/docker/simple-web-app"}},c=[{value:"From Dockerfile to Container Image",id:"from-dockerfile-to-container-image",children:[]},{value:"Workflow Summary",id:"workflow-summary",children:[]},{value:"Links",id:"links",children:[]}],l={rightToc:c};function b({components:e,...t}){return Object(o.b)("wrapper",Object(r.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"So far we have been using existing container images. This is nice to learn how to use them but in order to run your own workloads in containers, it is necessary to learn how to build container images yourself."),Object(o.b)("h2",{id:"from-dockerfile-to-container-image"},"From Dockerfile to Container Image"),Object(o.b)("p",null,"A Dockerfile describes how a container image is to be created. So let's have a first look at ",Object(o.b)("strong",{parentName:"p"},"the container image creation workflow"),"."),Object(o.b)("p",null,"Create a working directory for the training:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"mkdir workspace-ct\ncd workspace-ct\n")),Object(o.b)("p",null,"Create a working directory for your new container image:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"mkdir 10-hello-container-world\ncd 10-hello-container-world\n")),Object(o.b)("p",null,"In your ",Object(o.b)("inlineCode",{parentName:"p"},"hello-container-world")," working directory create a file named ",Object(o.b)("inlineCode",{parentName:"p"},"Dockerfile"),"."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note"),": Visual Studio Code ","[1]"," offers a Docker plugin that will assist you when working with Docker including authoring Dockerfiles ","[2]","."),Object(o.b)("p",null,"Paste this:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),'FROM busybox:1.31.1\nWORKDIR /app\nCMD ["printf", "Hello World of Containers\\n"]\n')),Object(o.b)("p",null,"And run your new image:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"docker image build -t hello-container-world:0.1.0 .\n")),Object(o.b)("p",null,"This will build a container local container image by the image name ",Object(o.b)("inlineCode",{parentName:"p"},"hello-container-world")," and tag it with the tag ",Object(o.b)("inlineCode",{parentName:"p"},"0.1.0"),"."),Object(o.b)("p",null,"You should see ",Object(o.b)("inlineCode",{parentName:"p"},"Hello World of Containers")," in your terminal. "),Object(o.b)("p",null,"Run it:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"docker run hello-container-world:0.1.0\n")),Object(o.b)("p",null,"You should see:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"Hello World of Containers\n")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Congratulations, you have built your first container image!")),Object(o.b)("h2",{id:"workflow-summary"},"Workflow Summary"),Object(o.b)("p",null,"Summarizing the workflow above, this is what you did to create your first container image:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Create a working directory for your container image"),Object(o.b)("li",{parentName:"ol"},"Create a Dockerfile"),Object(o.b)("li",{parentName:"ol"},"Build and Tag the container image from the Dockerfile")),Object(o.b)("p",null,"As you can see from this minimalistic example, defining a container image can be very simple."),Object(o.b)("h2",{id:"links"},"Links"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Microsoft Visual Studio Code, ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://code.visualstudio.com/"}),"https://code.visualstudio.com/")),Object(o.b)("li",{parentName:"ol"},"Visual Studio Code, Documentation, Working with Containers, ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://code.visualstudio.com/docs/containers/overview"}),"https://code.visualstudio.com/docs/containers/overview"))))}b.isMDXComponent=!0},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return m}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=o.a.createContext({}),u=function(e){var t=o.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},s=function(e){var t=u(e.components);return o.a.createElement(b.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),s=u(n),d=r,m=s["".concat(a,".").concat(d)]||s[d]||p[d]||i;return n?o.a.createElement(m,c({ref:t},b,{components:n})):o.a.createElement(m,c({ref:t},b))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var b=2;b<i;b++)a[b]=n[b];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);