<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-kubernetes/stateful-sets/persistent-volumes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Persistent Volumes | Kubernetes Training</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://learn.kubernetes.anynines.com/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://learn.kubernetes.anynines.com/img/logo.svg"><meta data-rh="true" property="og:url" content="https://learn.kubernetes.anynines.com/kubernetes/stateful-sets/persistent-volumes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Persistent Volumes | Kubernetes Training"><meta data-rh="true" name="description" content="Related Videos"><meta data-rh="true" property="og:description" content="Related Videos"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://learn.kubernetes.anynines.com/kubernetes/stateful-sets/persistent-volumes"><link data-rh="true" rel="alternate" href="https://learn.kubernetes.anynines.com/kubernetes/stateful-sets/persistent-volumes" hreflang="en"><link data-rh="true" rel="alternate" href="https://learn.kubernetes.anynines.com/kubernetes/stateful-sets/persistent-volumes" hreflang="x-default"><script id="usercentrics-cmp" src="https://app.usercentrics.eu/browser-ui/latest/loader.js" data-settings-id="ptaGMQQHY" async></script>
<script type="text/plain" src="https://www.googletagmanager.com/gtag/js?id=GTM-NZZ5ZVC" data-usercentrics="Google Tag Manager" async></script><link rel="stylesheet" href="/assets/css/styles.70448f49.css">
<link rel="preload" href="/assets/js/runtime~main.47ff26a5.js" as="script">
<link rel="preload" href="/assets/js/main.b83f6e07.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logoLight.svg" alt="anynines" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="anynines" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Kubernetes Training</b></a><a class="navbar__item navbar__link" href="/containerization/container-overview">Container Training</a><a class="navbar__item navbar__link" href="/kubernetes/kubernetes-overview">Kubernetes Training</a><a class="navbar__item navbar__link" href="/postgresql/postgresql-overview">PostgreSQL on Kubernetes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/anynines/a9s-kubernetes-training" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Fork me<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/anynines" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://paas.anynines.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">anynines PaaS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/containerization/container-overview">Containerization</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/kubernetes/kubernetes-overview">Kubernetes Part 1</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/kubernetes-overview">Kubernetes Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/basics/prerequisite">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/pods/introduction">Pods</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/replicaset-and-service/introduction">ReplicaSets and Services</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/deployments/deployments">Deployments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/configmaps-and-secrets/configmaps-and-secrets">ConfigMaps and Secrets</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/kubernetes/jobs/jobs">Jobs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/kubernetes/stateful-sets/persistent-volumes">StatefulSets</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kubernetes/stateful-sets/persistent-volumes">Persistent Volumes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/persistent-volumes-exercise">Persistent Volumes Excercise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-sets">StatefulSets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-postgresql">PostgreSQL StatefulSet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-headless-service">Headless Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-vs-replicasets">StatefulSet vs. ReplicaSets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-psql-access-to-postgresql">PSQL Access to PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-application-access">Application Access to a StatefulSet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kubernetes/stateful-sets/stateful-set-conclusions">Conclusions</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/postgresql/postgresql-overview">PostgreSQL on Kubernetes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/advanced-kubernetes">Kubernetes Part 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/changelog">About</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Kubernetes Part 1</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">StatefulSets</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Persistent Volumes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Persistent Volumes</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="related-videos">Related Videos<a href="#related-videos" class="hash-link" aria-label="Direct link to Related Videos" title="Direct link to Related Videos">​</a></h2><div style="padding-top:10px;padding-bottom:1.8em"><style data-emotion="css 1tz8m30">.css-1tz8m30{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;margin-top:-32px;width:calc(100% + 32px);margin-left:-32px;}.css-1tz8m30>.MuiGrid-item{padding-top:32px;}.css-1tz8m30>.MuiGrid-item{padding-left:32px;}</style><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-4 css-1tz8m30"><style data-emotion="css 1px0r2z">.css-1px0r2z{box-sizing:border-box;margin:0;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}@media (min-width:600px){.css-1px0r2z{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:900px){.css-1px0r2z{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:100%;}}@media (min-width:1200px){.css-1px0r2z{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}@media (min-width:1536px){.css-1px0r2z{-webkit-flex-basis:33.333333%;-ms-flex-preferred-size:33.333333%;flex-basis:33.333333%;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;max-width:33.333333%;}}</style><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-lg-4 css-1px0r2z"><div style="padding-bottom:56.25%;padding-top:0;position:relative;height:0;border-radius:4px;overflow:hidden;margin-bottom:14px"><iframe class="fadedVideo" style="width:100%;height:100%;top:0;left:0;position:absolute" width="320" src="https://www.youtube-nocookie.com/embed/yKHC8Mhzra4?rel=0&amp;modestbranding=1&amp;playsinline=0&amp;controls=2" title="YouTube video player" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><style data-emotion="css u7ipk">.css-u7ipk{margin:0;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.57;letter-spacing:0.00714em;font-weight:800;}</style><h6 class="MuiTypography-root MuiTypography-subtitle2 css-u7ipk">Persistent Volumes Part 1</h6></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-sm-12 MuiGrid-grid-lg-4 css-1px0r2z"><div style="padding-bottom:56.25%;padding-top:0;position:relative;height:0;border-radius:4px;overflow:hidden;margin-bottom:14px"><iframe class="fadedVideo" style="width:100%;height:100%;top:0;left:0;position:absolute" width="320" src="https://www.youtube-nocookie.com/embed/83RfSH0CrrI?rel=0&amp;modestbranding=1&amp;playsinline=0&amp;controls=2" title="YouTube video player" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><h6 class="MuiTypography-root MuiTypography-subtitle2 css-u7ipk">Persistent Volumes Part 2</h6></div></div></div><hr><p>This lesson covers the theoretical background necessary to understand the Persistent Volume concept in Kubernetes.</p><p>Persistent Volumes are introduced in this chapter, although they can also be used with familiar Kubernetes resources such as Pods and ReplicaSets and - although many Kubernetes users do that applications should be kept as stateless as possible. Therefore, note that state should be managed by stateful data services as proposed in the 12 factor manifest <!-- -->[14]<!-- -->.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="volumes">Volumes<a href="#volumes" class="hash-link" aria-label="Direct link to Volumes" title="Direct link to Volumes">​</a></h2><p><strong>Volumes bring persistency to containers</strong>. Containers are stateless in so far as changes to their filesystem will be lost if a container is restarted - more precisely rescheduled. Rescheduling means that the container is destroyed, but a new container of the same kind is started somewhere in the cluster. This freshly created container will be derived from the given container image and hence won&#x27;t reflect any changes made in prior existing containers.</p><p><strong>Volumes allow sharing information among containers</strong>. At least some types of Volumes allow sharing of information among containers. A NFS Volume, for example, can be used to share assets such as photos uploaded by application users and store them on a shared filesystem. Be aware that this is an antipattern for cloud native applications which will store assets in an object store such as OpenStack Swift <!-- -->[3]<!-- -->, Amazon S3 <!-- -->[4]<!-- --> or the alike. Object stores scale horizontally for both load and capacity. In addition to that their availability and durability is usually higher than those of shared filesystems. However, for some legacy applications this may be a valid choice.</p><p>More than that, Volumes are used in conjunction with concepts such as ConfigMaps and Secrets as shown in earlier lessons. Both ConfigMaps and Secrets can be either consumed as environment variables or be mounted as files. The latter option uses the concept of Kubernetes Volumes.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="volume-mounts">Volume Mounts<a href="#volume-mounts" class="hash-link" aria-label="Direct link to Volume Mounts" title="Direct link to Volume Mounts">​</a></h3><p>Within a Pod-definition volumes can be mounted to containers by using a so-called <strong>volume mount</strong>. You are already familiar with the syntax as volume mounts have been used in the ConfigMap and Secrets lessons using the <code>volumeMounts</code> field in container specs.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-volumes-vs-kubernetes-volumes">Docker Volumes vs. Kubernetes Volumes<a href="#docker-volumes-vs-kubernetes-volumes" class="hash-link" aria-label="Direct link to Docker Volumes vs. Kubernetes Volumes" title="Direct link to Docker Volumes vs. Kubernetes Volumes">​</a></h3><p>If you are familiar with Docker Volumes you may already recognize the difference between Kubernetes and Docker Volumes. In Kubernetes there are many more types of Volumes and the way to use them is more flexible. For example, in Kubernetes it is possible to mount multiple containers of multiple types into a single container. Additionally, the lifecycle of Volumes is clearly defined in Kubernetes. Volumes share the lifecycle of their Pods. They are created with their Pods and cease to exist when their Pods cease to exist. You will see that there are concepts such as the <em>Persistent Volume</em> with lifetimes exceeding the lifetime of their Pods.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="persistent-volumes-pv">Persistent Volumes (PV)<a href="#persistent-volumes-pv" class="hash-link" aria-label="Direct link to Persistent Volumes (PV)" title="Direct link to Persistent Volumes (PV)">​</a></h2><p>It may appear intuitive that Persistent Volumes (PV) are special types of Volumes but in fact there are two distinct Kubernetes resources.</p><p>As mentioned before, the <strong>major difference of Volumes and Persistent Volumes is their lifetime</strong>. Volumes exist as long as their corresponding Pods while <strong>Persistent Disks</strong> potentially survive Pods and may <strong>live as long as the Kubernetes cluster lives</strong>.</p><p>Persistent Volumes are not storage implementation but rather a storage abstraction. The Persistent Volume subsystem comprises resource types for creating and attaching volumes. In order to use Persistent Volumes you need to be familiar with the following concepts:</p><ul><li>Persistent Volume (PV)</li><li>Persistent Volume Claim (PVC)</li><li>Storage Class</li><li>Storage Provisioner</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistent-volume">Persistent Volume<a href="#persistent-volume" class="hash-link" aria-label="Direct link to Persistent Volume" title="Direct link to Persistent Volume">​</a></h3><p>The Persistent Volume is what the name suggests: the actual volume where data is being stored. What exactly a Persistent Volume is, is up to its implementation. Often, a PV may be represented by a remotely attached block device such as an Amazon Block Store (AWS EBS) volume <!-- -->[5]<!-- -->.</p><p>The Persistent Volume concept implies two important questions:</p><ol><li>How are Persistent Volumes created?</li><li>Where and when are Persistent Volumes associated and mounted to containers?</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="persistent-volume-claim-pcv">Persistent Volume Claim (PCV)<a href="#persistent-volume-claim-pcv" class="hash-link" aria-label="Direct link to Persistent Volume Claim (PCV)" title="Direct link to Persistent Volume Claim (PCV)">​</a></h3><p>Similar to Volumes, Persistent Volumes <!-- -->[2]<!-- --> are also mounted using the <code>volumeMount</code> field in the specification of a container. The volume mount basically says &quot;mount the persistent volume <code>x</code> to the path <code>y</code> of my container <code>z</code>. But <strong>before a volume mount can happen, the Persistent Volume must be requested using a Persistent Volume Claim</strong>. Think of storage as &quot;territory&quot; and a Persistent Volume Claim as a claim to a particular part of that &quot;territory&quot; or storage. Hence, <strong>a Persistent Volume Claim is a declarative description of a piece of storage requested by the user</strong>. In this sense, a PVC may sound like</p><p>Give me:</p><ul><li><em>&quot;3 gigabytes of fast SSD storage&quot;</em></li><li><em>&quot;500 gigabytes of cheap hard disk drive storage. You know the old rotating magnetic drives.&quot;</em></li><li><em>&quot;50 gigabytes of very reliable SSD storage&quot;</em></li></ul><p>As you can see these requests may include different <strong>quantities</strong> and <strong>qualities</strong> of storage. While quantities are measures in bytes, qualities can be anything from <em>availability</em>, <em>durability</em> to <em>speed</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-class">Storage Class<a href="#storage-class" class="hash-link" aria-label="Direct link to Storage Class" title="Direct link to Storage Class">​</a></h3><p>Storage Classes <!-- -->[13]<!-- --> are there to reflect the above-mentioned qualities such as <em>availability</em>, <em>durability</em>, <em>speed</em>, <em>backup policies</em> etc.</p><p>This leads to the question of where the difference of Persistent Volumes by Storage Class is actually manifested. Simply speaking, a Storage Class represents a configuration that is passed into a so-called <em>Storage Provisioner</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-provisioner">Storage Provisioner<a href="#storage-provisioner" class="hash-link" aria-label="Direct link to Storage Provisioner" title="Direct link to Storage Provisioner">​</a></h3><p>The Storage Provisioner is where Persistent Volumes of a particular Storage Classes are actually created.</p><p><strong>A Storage Provisioner is responsible for dynamically creating storage volumes corresponding to Persistent Volume Claims requested by users</strong>.</p><p>The underlying storage system can be anything from a software defined storage (SDS)<!-- -->[6]<!-- --> such as ceph <!-- -->[7]<!-- -->, gluster <!-- -->[8]<!-- -->, etc. to hardware appliances accessed directly or through the API of an infrastructure provider such as AWS <!-- -->[9]<!-- -->, Azure <!-- -->[10]<!-- -->, GCP <!-- -->[11]<!-- --> or AliCloud <!-- -->[12]<!-- -->. Each of these systems - along with many other storage solutions - have to be addressed in a particular way. This is the main subject of a Storage Provisioner implementation.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="manual-provisioning">Manual Provisioning<a href="#manual-provisioning" class="hash-link" aria-label="Direct link to Manual Provisioning" title="Direct link to Manual Provisioning">​</a></h3><p>The documentation <!-- -->[2]<!-- --> also mentions manual provisioning. In this case Persistent Volumes are pre-created by the cluster administrator. Applications then use Persistent Volume Claims to request a Persistent Volume from the pool of PVs. While this use case may make sense in legacy use cases, such a Stone Age methodology should be avoided whenever possible. The absence of dynamic volume provisioning is likely to block the workflow of application developers during deployment when Persistent Volume Claims can&#x27;t be fulfilled as the cluster ran out of Persistent Volumes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links">​</a></h2><ol><li>Kubernetes Documentation, Concepts, Storage, Volumes, <a href="https://kubernetes.io/docs/concepts/storage/volumes/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/storage/volumes/</a></li><li>Kubernetes Documentation, Concepts, Storage, Persistent Volumes, <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/storage/persistent-volumes/</a></li><li>OpenStack Swift, <a href="https://github.com/openstack/swift" target="_blank" rel="noopener noreferrer">https://github.com/openstack/swift</a></li><li>Amazon S3, <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/s3/</a></li><li>Amazon EBS, <a href="https://aws.amazon.com/ebs/" target="_blank" rel="noopener noreferrer">https://aws.amazon.com/ebs/</a></li><li>Wikipedia, Software Defined Storage, <a href="https://en.wikipedia.org/wiki/Software-defined_storage" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Software-defined_storage</a></li><li>Ceph, <a href="https://ceph.io/" target="_blank" rel="noopener noreferrer">https://ceph.io/</a></li><li>gluster, <a href="https://www.gluster.org/" target="_blank" rel="noopener noreferrer">https://www.gluster.org/</a></li><li>Amazon Web Services, <a href="http://aws.amazon.com/" target="_blank" rel="noopener noreferrer">http://aws.amazon.com/</a></li><li>Microsoft Azure, <a href="https://azure.microsoft.com" target="_blank" rel="noopener noreferrer">https://azure.microsoft.com</a></li><li>Google Cloud Platform, <a href="https://cloud.google.com/" target="_blank" rel="noopener noreferrer">https://cloud.google.com/</a></li><li>Alibaba Cloud, <a href="https://eu.alibabacloud.com/" target="_blank" rel="noopener noreferrer">https://eu.alibabacloud.com/</a></li><li>Kubernetes documentation, Concepts, Storage Classes, <a href="https://kubernetes.io/docs/concepts/storage/storage-classes/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/storage/storage-classes/</a></li><li>The Twelve Factor App, <a href="https://12factor.net/" target="_blank" rel="noopener noreferrer">https://12factor.net/</a></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kubernetes/jobs/cron-jobs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CronJobs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kubernetes/stateful-sets/persistent-volumes-exercise"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Persistent Volumes Excercise</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#related-videos" class="table-of-contents__link toc-highlight">Related Videos</a></li><li><a href="#volumes" class="table-of-contents__link toc-highlight">Volumes</a><ul><li><a href="#volume-mounts" class="table-of-contents__link toc-highlight">Volume Mounts</a></li><li><a href="#docker-volumes-vs-kubernetes-volumes" class="table-of-contents__link toc-highlight">Docker Volumes vs. Kubernetes Volumes</a></li></ul></li><li><a href="#persistent-volumes-pv" class="table-of-contents__link toc-highlight">Persistent Volumes (PV)</a><ul><li><a href="#persistent-volume" class="table-of-contents__link toc-highlight">Persistent Volume</a></li><li><a href="#persistent-volume-claim-pcv" class="table-of-contents__link toc-highlight">Persistent Volume Claim (PCV)</a></li><li><a href="#storage-class" class="table-of-contents__link toc-highlight">Storage Class</a></li><li><a href="#storage-provisioner" class="table-of-contents__link toc-highlight">Storage Provisioner</a></li><li><a href="#manual-provisioning" class="table-of-contents__link toc-highlight">Manual Provisioning</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">More from anynines</h4><ul class="footer__items"><li class="footer__item"><a href="https://anynines.com/?utm_source=k8s-tutorial&amp;utm_medium=web" target="_blank" rel="noopener noreferrer" class="footer__link-item">anynines.com</a></li><li class="footer__item"><a href="https://paas.anynines.com/?utm_source=k8s-tutorial&amp;utm_medium=web" target="_blank" rel="noopener noreferrer" class="footer__link-item">anynines PaaS</a></li><li class="footer__item"><a href="https://anynines.com/jobs/?utm_source=k8s-tutorial&amp;utm_medium=web" target="_blank" rel="noopener noreferrer" class="footer__link-item">Jobs at anynines</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Follow us</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/anynines" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/anynines/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://instagram.com/anyninescom" target="_blank" rel="noopener noreferrer" class="footer__link-item">Instagram</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.anynines.com/imprint" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint</a></li><li class="footer__item"><a href="https://www.anynines.com/data-privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li></ul></div></div><div class="text--center"><div>Copyright © 2023 anynines GmbH.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.47ff26a5.js"></script>
<script src="/assets/js/main.b83f6e07.js"></script>
</body>
</html>